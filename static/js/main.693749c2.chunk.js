(this["webpackJsonporature-downloader"]=this["webpackJsonporature-downloader"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),s=n.n(o),i=(n(18),n(2)),l=n(4),c=n(6),u=n(5),d=n(12),p=n(13);var f=function e(){var t=this;Object(i.a)(this,e),this.execute=function(e){var n=new XMLHttpRequest;n.open("GET","https://nightlybuilds.s3.amazonaws.com/"),n.onload=function(){var a=function(e,t){var n={toObj:function(e){var t={};if(1==e.nodeType){if(e.attributes.length)for(var a=0;a<e.attributes.length;a++)t["@"+e.attributes[a].nodeName]=(e.attributes[a].nodeValue||"").toString();if(e.firstChild){for(var r=0,o=0,s=!1,i=e.firstChild;i;i=i.nextSibling)1==i.nodeType?s=!0:3==i.nodeType&&i.nodeValue.match(/[^ \f\n\r\t\v]/)?r++:4==i.nodeType&&o++;if(s)if(r<2&&o<2){n.removeWhite(e);for(i=e.firstChild;i;i=i.nextSibling)3==i.nodeType?t["#text"]=n.escape(i.nodeValue):4==i.nodeType?t["#cdata"]=n.escape(i.nodeValue):t[i.nodeName]?t[i.nodeName]instanceof Array?t[i.nodeName][t[i.nodeName].length]=n.toObj(i):t[i.nodeName]=[t[i.nodeName],n.toObj(i)]:t[i.nodeName]=n.toObj(i)}else e.attributes.length?t["#text"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(r)e.attributes.length?t["#text"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(o)if(o>1)t=n.escape(n.innerXml(e));else for(i=e.firstChild;i;i=i.nextSibling)t["#cdata"]=n.escape(i.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9==e.nodeType?t=n.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,a){var r=t?'"'+t+'"':"";if(e instanceof Array){for(var o=0,s=e.length;o<s;o++)e[o]=n.toJson(e[o],"",a+"\t");r+=(t?":[":"[")+(e.length>1?"\n"+a+"\t"+e.join(",\n"+a+"\t")+"\n"+a:e.join(""))+"]"}else if(null==e)r+=(t&&":")+"null";else if("object"==typeof e){var i=[];for(var l in e)i[i.length]=n.toJson(e[l],l,a+"\t");r+=(t?":{":"{")+(i.length>1?"\n"+a+"\t"+i.join(",\n"+a+"\t")+"\n"+a:i.join(""))+"}"}else r+="string"==typeof e?(t&&":")+'"'+e.toString()+'"':(t&&":")+e.toString();return r},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var n=function e(t){var n="";if(1==t.nodeType){n+="<"+t.nodeName;for(var a=0;a<t.attributes.length;a++)n+=" "+t.attributes[a].nodeName+'="'+(t.attributes[a].nodeValue||"").toString()+'"';if(t.firstChild){n+=">";for(var r=t.firstChild;r;r=r.nextSibling)n+=e(r);n+="</"+t.nodeName+">"}else n+="/>"}else 3==t.nodeType?n+=t.nodeValue:4==t.nodeType&&(n+="<![CDATA["+t.nodeValue+"]]>");return n},a=e.firstChild;a;a=a.nextSibling)t+=n(a);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var a=t.nextSibling;e.removeChild(t),t=a}else 1==t.nodeType?(n.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9==e.nodeType&&(e=e.documentElement);var a=n.toJson(n.toObj(n.removeWhite(e)),e.nodeName,"\t");return"{\n"+t+(t?a.replace(/\t/g,t):a.replace(/\t|\n/g,""))+"\n}"}(n.responseXML).replace('undefined"ListBucketResult','"ListBucketResult'),r=JSON.parse(a),o=t.getOratureProjects(r.ListBucketResult.Contents),s=t.getProjectsByBranch(o);e(s)},n.send()},this.parseXml=function(e){var t=null;if(window.DOMParser)try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(n){t=null}else alert("cannot parse xml string!");return t},this.addList=function(e){var t=document.getElementById("branches-list");Object.keys(e).forEach((function(e){var n=document.createElement("option");n.text=n.value=e,t.add(n,0)})),t.value="dev"},this.getOratureProjects=function(e){var t=[];return e.forEach((function(e){e.Key.includes("Bible-Translation-Tools/Orature/")&&t.push(e)})),t},this.getProjectsByBranch=function(e){var n={},a=/Bible-Translation-Tools\/Orature\/([a-zA-Z0-9-]*)\/.*/,r=/[\.deb|\.exe|\.dmg]$/;return e.forEach((function(e){var t=e.Key.match(a),o=t.length>1?t[1]:null;null!==o&&(Object.keys(n).includes(o)||(n[o]=[]),r.test(e.Key)&&n[o].push(e.Key))})),Object.keys(n).forEach((function(e){var a=t.getLatestBuild(e,n[e]);n[e]=t.removeExcess(n[e],e,a)})),n},this.getLatestBuild=function(e,t){var n=/Bible-Translation-Tools\/Orature\/[a-zA-Z0-9-]*\/(\d*)\/.*/,a=[];t.forEach((function(e){n.test(e)&&a.push(e.match(n).pop())}));var r=a.map((function(e){return parseInt(e)}));return Math.max.apply(Math,Object(p.a)(r))},this.removeExcess=function(e,t,n){var a=RegExp("Bible-Translation-Tools/Orature/"+t+"/"+n+"/.*");return e.filter((function(e){return a.test(e)}))},this.parser=new DOMParser},h=(n(19),n(1)),b=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("h1",{className:"top",children:this.props.os}),Object(h.jsx)("img",{className:"os",src:this.props.iconUrl}),Object(h.jsx)("a",{href:this.props.downloadUrl,children:Object(h.jsxs)("button",{className:"btn",children:["Download ",this.props.version]})})]})}}]),n}(r.a.Component),m=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)(d.a,{className:"select",options:this.props.options,defaultValue:this.props.options.filter((function(e){return"dev"===e.label})),onChange:this.props.onChange})}}]),n}(r.a.Component),v=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),(new f).execute((function(e){var t=a.prepareContent(e),n=t.filter((function(e){return"dev"===e.label}));a.setState({options:t,selectedValue:n[0]})})),a.state={selectedValue:{label:"branchName",value:{name:"",platforms:{windows:{downloadUrl:""},linux:{downloadUrl:""},macos:{downloadUrl:""}}}},options:[]},a}return Object(l.a)(n,[{key:"prepareContent",value:function(e){var t="https://nightlybuilds.s3.amazonaws.com/",n=[];return Object.keys(e).forEach((function(a){n.push({label:a,value:{name:a,platforms:{windows:{downloadUrl:t+e[a][2]},linux:{downloadUrl:t+e[a][0]},macos:{downloadUrl:t+e[a][1]}}}})})),n}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsx)(m,{options:this.state.options,selectedValue:this.state.selectedValue,onChange:function(t){return e.setState({selectedValue:t})}}),Object(h.jsxs)("div",{className:"platforms",children:[Object(h.jsx)(b,{os:"Windows",version:this.state.selectedValue.value.name,downloadUrl:this.state.selectedValue.value.platforms.windows.downloadUrl,iconUrl:"https://www.freeiconspng.com/uploads/system-windows-icon-png-4.png"}),Object(h.jsx)(b,{os:"Mac",version:this.state.selectedValue.value.name,downloadUrl:this.state.selectedValue.value.platforms.macos.downloadUrl,iconUrl:"https://www.freeiconspng.com/uploads/brushed-metal-apple-mac-icon-29.png"}),Object(h.jsx)(b,{os:"Linux",version:this.state.selectedValue.value.name,downloadUrl:this.state.selectedValue.value.platforms.linux.downloadUrl,iconUrl:"https://www.freeiconspng.com/uploads/linux-icon-2.png"})]})]})}}]),n}(r.a.Component),j=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"appbar",children:Object(h.jsx)("img",{src:"https://orature.bibletranslationtools.org/wp-content/uploads/sites/6/2020/09/Orature@2x.png"})})}}]),n}(r.a.Component);var g=function(){return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(j,{}),Object(h.jsx)(v,{})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),o(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),O()}},[[36,1,2]]]);
//# sourceMappingURL=main.693749c2.chunk.js.map
